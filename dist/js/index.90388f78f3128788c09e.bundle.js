!function(e){function t(t){for(var r,u,a=t[0],s=t[1],c=t[2],l=0,f=[];l<a.length;l++)u=a[l],Object.prototype.hasOwnProperty.call(o,u)&&o[u]&&f.push(o[u][0]),o[u]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(h&&h(t);f.length;)f.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==o[s]&&(r=!1)}r&&(i.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},o={0:0},i=[];function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="";var a=window.webpackJsonp=window.webpackJsonp||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var h=s;i.push(["tjUo",1]),n()}({DyFN:function(e,t,n){(e.exports=n("JPst")(!1)).push([e.i,".router-hide {\n  display: none !important;\n}\n.tip-404 {\n  text-align: center;\n  font-weight: bold;\n  font-size: 26px;\n  color: #888;\n  margin: 50px;\n}\n.text-404 {\n  font-size: 36px;\n}\n.des-404 {\n  font-size: 18px;\n}\n",""])},tjUo:function(e,t,n){"use strict";n.r(t);var r=n("mPOQ");r.b.setConfig({isDev:!0});var o=n("lwsE"),i=n.n(o),u=n("W8MJ"),a=n.n(u),s=n("a1gu"),c=n.n(s),h=n("Nsbk"),l=n.n(h),f=n("7W2i"),p=n.n(f),d=0;function m(e){var t={isBelone:"yamjs",state:{},methods:{},isAdded:{}};return new(function(){function e(n){i()(this,e),this.do=t.isBelone,this.name="store",this.mix(n)}return a()(e,[{key:"mix",value:function(e){var n=this;e.state&&Object.keys(e.state).forEach((function(r){t.state[r]=e.state[r],void 0===n[r]&&function(e,n){Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:function(){return t.state[n]},set:function(e){}})}(n,r)})),e.methods&&Object.keys(e.methods).forEach((function(n){t.methods[n]=e.methods[n]}))}},{key:"commit",value:function(n){for(var r=arguments.length,o=new Array(1<r?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var u;t.methods[n]?!1!==(u=t.methods)[n].apply(u,[t.state].concat(o))&&e.update():void 0!==t.state[n]&&t.state[n]!==o[0]&&(t.state[n]=o[0],e.update())}},{key:"add",value:function(e){return(t.isAdded[e._eid]=e).addDestory((function(){delete t.isAdded[e._eid]})),e.$store=this}},{key:"install",value:function(e){var t=this;e.addAuto("store",(function(e){e.$store.name||(e.$store=t.add(e))}))}}],[{key:"update",value:function(){Object.keys(t.isAdded).forEach((function(e){t.isAdded[e].update()}))}}]),e}())(e)}Object(r.a)({tagName:"show-demo",props:["title"]})(function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"$created",value:function(){this.i=++d}},{key:"render",value:function(){return r.b.__createElement("div",{style:"border:2px rgba(0,0,0,.2) dashed;margin:10px;padding:10px"},this.i,"、  插件：",this.title,r.b.__createElement("section",{style:"margin:10px;border:10px rgba(0,0,0,.1) solid;padding:10px"},r.b.__createElement("slot",null)))}}]),t}(r.b)),r.b.use(new m({state:{width:0}}));var v,b,y,w=new m({state:{width:0}}),g=Object(r.a)({tagName:"store-demofour",store:w})(v=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"render",value:function(){return r.b.__createElement("div",null,"Appfourwidth:",this.$store.width)}}]),t}(r.b))||v,_=Object(r.a)({tagName:"store-demothree",store:w})(b=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"plus",value:function(){this.$store.commit("width",parseInt(500*Math.random()))}},{key:"render",value:function(){return r.b.__createElement("div",null,"Appthreewidth:",this.$store.width,r.b.__createElement(g,null),r.b.__createElement("button",{onClick:this.plus.bind(this)},"变化值"))}}]),t}(r.b))||b,k=Object(r.a)({tagName:"store-demotwo"})(y=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"render",value:function(){return r.b.__createElement("div",null,"Apptwowidth:",this.$store.width)}}]),t}(r.b))||y,E=(Object(r.a)({tagName:"store-demo"})(function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"plus",value:function(){this.$store.commit("width",parseInt(500*Math.random()))}},{key:"render",value:function(){return r.b.__createElement("div",null,r.b.__createElement("p",null,"共享的的store"),r.b.__createElement(k,null),"Appwidth:",this.$store.width,r.b.__createElement("button",{onClick:this.plus.bind(this)},"变化值"),r.b.__createElement("p",null,"在共享的store中还可以设置，单独的store"),r.b.__createElement(_,null))}}]),t}(r.b)),n("cDf5")),$=n.n(E),O=[];function j(){var e=(window.location.href.split("#")[1]||"").split("?"),t=e[1],n=e[0];return{query:function(e){if(!e)return{};for(var t=e.split("&"),n={},r=0;r<t.length;r++){var o=t[r].split("=");n[o[0]]=o[1]||null}return n}(t),path:x(n)}}function x(e){return~e.indexOf("?")&&(e=e.split("?")[0]||""),"/"!==e.charAt(0)&&(e="/"+e),e.length<2?e:"/"===e.charAt(e.length-1)?e.substr(0,e.length-1):e}window.addEventListener("hashchange",(function(e){O.forEach((function(t){return t(e)})),console.log("change over")})),r.b.use(new function(e){var t={history:[]};return new(function(){function e(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i()(this,e),this.name="Router",this.config={},this.pathConf={},this.Conf=Object.assign({mode:"hash"},n.conf),this.init(n.routes);var r=document.getElementsByTagName("router-view")[0];O.push((function(e){var n=j();t.current=Object.assign({},t.pathConf[n.path]||{},n),r&&r.updateView&&r.updateView(e)}))}return a()(e,[{key:"init",value:function(e){var t=$()(e);"object"===t?function(e,t){var n=e.current=j();console.log("current",n),t.forEach((function(t){t.name?(t.path=x(t.path||"/"),e.pathConf[t.path]=e.config[t.name]={path:t.path,component:t.component},n.path===t.path&&function(e,t){e.current=t}(e,Object.assign({},t,n))):console.warn("\n    router:\n      ".concat(t,"\n      缺少【name】值\n      "))})),e.current||function(e){console.warn("\n  router:\n    请检查传入的参数\n    ".concat(JSON.stringify(e),"\n    ，没有找到匹配的组件\n  "))}(n)}(this,e):console.warn(new Error("使用state.setConfig函数去设置页面跳转需要 传入{}对象，而不是"+t))}},{key:"push",value:function(e){if(console.log(this),e.name){if(!this.config[e.name])return void console.warn("\n          ".concat(e.name," 没有对应的页面，请检查\n          "));var n=this.config[e.name].path;e.query&&(n+="?"+function(e){var t=[];return Object.keys(e).forEach((function(n){t.push("".concat(n,"=").concat(e[n]))})),t.join("&")}(e.query)),console.log(n),t.history.push(e),window.location.href="#"+n}else e.path&&t.history.push(e)}},{key:"pop",value:function(){t.history.shift(),window.history.go(-1)}},{key:"back",value:function(){this.pop()}},{key:"add",value:function(e){return e.$router=this}},{key:"install",value:function(e){var t=this;e.addAuto("router",(function(e){e.$router=t}))}}]),e}())({routes:[{name:"index",path:"/",component:"router-one"},{path:"/rtwo",component:"router-two",name:"rTwo"}]})}({routes:[{name:"index",path:"/",component:"router-one"},{path:"/rtwo",component:"router-two",name:"rTwo"}]})),Object(r.a)({tagName:"router-view",style:n("DyFN"),props:["live"]})(function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"$beforeCreate",value:function(){this.cache={}}},{key:"$created",value:function(){this.$router.keepLive=!!this.live}},{key:"$updated",value:function(){this.live&&!this.cache[window.location.hash]&&(this.cache[window.location.hash]=this.$refs.routerDiv.childNodes[0]),console.log(this.cache)}},{key:"getPage",value:function(){}},{key:"$mounted",value:function(){var e=this;this.elm.updateView=function(t){console.log("update",e.$router.current.component),e.updateView(t)}}},{key:"updateView",value:function(e){if(this.live){var t=e.oldURL;(t=t.split("#")[1])&&(this.cache[t]=this.$refs.routerDiv.childNodes[0],console.log(this.$router))}this.update(),console.log("this.$refs.dom",this.$refs.dom)}},{key:"showCacheView",value:function(e){return this.$refs.routerDiv.appendChild(this.cache[e]),""}},{key:"showNewView",value:function(){return this.$refs&&this.$refs.cacheDiv.appendChild(this.$refs.routerDiv.childNodes[0]),r.b.__createElement(this.$router.current.component,null)}},{key:"getCurrentComponent",value:function(){return this.$router.current&&this.$router.current.component?r.b.__createElement(this.$router.current.component,{ref:"dom"}):r.b.__createElement("page-404",{path:this.$router.current.path},this.get404())}},{key:"get404",value:function(){return r.b.__createElement("div",{className:"tip-404"},r.b.__createElement("p",{className:"title-404 tac"},"YAMJS"),r.b.__createElement("p",{className:"text-404 tac"},"【404】 肯定是你的方向不对"),r.b.__createElement("p",{className:"des-404 tac"},"只要方向对，目标肯定就在远方，先去检查一下吧"))}},{key:"render",value:function(){var e=window.location.hash.split("?")[0];return r.b.__createElement("div",{ref:"routerDiv"},this.live&&this.cache[e]?this.showCacheView(e):this.getCurrentComponent())}}]),t}(r.b)),Object(r.a)({tagName:"router-one"})(function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"go",value:function(){this.$router.push({name:"rTwo",query:{a:1,b:2}})}},{key:"render",value:function(){return r.b.__createElement("div",null,"router-one:",r.b.__createElement("button",{onClick:this.go.bind(this)},"toTwo"))}}]),t}(r.b)),Object(r.a)({tagName:"router-two"})(function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"go",value:function(){this.$router.push({name:"index"})}},{key:"render",value:function(){return r.b.__createElement("div",null,"router-two参数[this.$router.current.query]:",this.$router.current.query,r.b.__createElement("button",{onClick:this.go.bind(this)},"toOne"))}}]),t}(r.b))}});